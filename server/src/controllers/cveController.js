import mongoose from "mongoose"
import { CveListModel } from "../model/ListCve.js"


const getCveListFromMyDb = async (count, offset) => {
    try {
        const cveList = await CveListModel.find({}).sort({published : 1 , lastModified : -1}).skip(offset).limit(count);
        return cveList ; 
    }catch(err){
        console.log(err) ; 
    }  
}

const getSingleCveFromMyDb =  async (cveId) => {
    try{
        const cve = await CveListModel.findOne({cveId : cveId }) ; 
        return cve ; 
    }catch(err){
        console.log(err) ; 
    }
}


const getTotalCveCountInMyDb = async () => {
    try{
        const totCveCount = await  CveListModel.countDocuments({}) ; 
        return totCveCount ; 
    }catch(err){
        console.log(err) ; 
    }
}

const updateExistingCve = (cve) => {
    //Need to implement for the modularity of the server.js initial updation and the periodic updation
}


export {getCveListFromMyDb , getSingleCveFromMyDb , getTotalCveCountInMyDb , updateExistingCve}